import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.util.Base64;
import java.util.Scanner;
public class Main {

	public static void main(String[] args) {
		

//		example1();
//		example2();
//		example3();
//		example4();
//		example5();
		readFile();
		
	}
	
	public static void example1() { // setting char
		char letter = 64;
		System.out.println(letter);
	}
	
	
	
	
	
	public static void example2() { // how bitwise operator XOR works
		System.out.println('A' ^ 'B');
		// A = 65 = 1000001
		// B = 66 = 1000010
		// XOR ---> 0000011 = 3
		// output is 3
	}
	
	
	
	
	public static void example3() { // converting decimal into char
		
		int num = 64;
		char c = (char)num;
		System.out.println(c);
		
	}
	
	
	
	
	
	public static void example4() { // converting char array to String
		
		char[] c_arr = {'H', 'E', 'L', 'L', 'O'};
		String text = new String(c_arr);
		System.out.println(text);
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	public static void example5() {
		String message = "Hello";
        char key = 'K';
        String encrypted = xor(message, key);

        System.out.println("Encrypted: " + encrypted);
        
	}
	
	public static String xor(String text, char key) { //accepts two parameters 
		
		// [1] create an empty char array with length = first parameters length
        char[] result = new char[text.length()]; 
        
        // [2] loop through each char of first parameter (String text), 
        // 	   perform bitwise XOR between the char and the key; <----- this will return a number
        //     convert the number into char using (char)(text.charAt(i) ^ key)
        //     Fill the empty char 'result' with each char that is returned by each iteration of the loop
        for (int i = 0; i < text.length(); i++) {
            result[i] = (char)(text.charAt(i) ^ key);
        }
        
        // [3] convert the char array 'result' into a String and return it
        return new String(result);
    }
	
	
	
	
	
	
	
	
    public static void readFile() {
        try {
            File file = new File("shakespeare.txt");
            Scanner sc = new Scanner(file);
            while (sc.hasNextLine()) {
                String line = sc.nextLine();
                String filename = "sample.txt";
                String newLine = line;
                try {
                    FileWriter fw = new FileWriter(filename, true); // true = append mode
                    fw.write(newLine + System.lineSeparator());     // add newline after writing
                    fw.close();
                    System.out.println("Line added successfully!");
                } catch (IOException e) {
                    System.out.println("An error occurred while writing to the file.");
                    e.printStackTrace();
                }
                
            }
            sc.close();
        } catch (FileNotFoundException e) {
            System.out.println("File not found!");
            e.printStackTrace();
        }
    }
    
    
    public static void addLine() {
        String filename = "sample.txt";
        String newLine = "This is the new line I want to add.";
        try {
            FileWriter fw = new FileWriter(filename, true); // true = append mode
            fw.write(newLine + System.lineSeparator());     // add newline after writing
            fw.close();
            System.out.println("Line added successfully!");
        } catch (IOException e) {
            System.out.println("An error occurred while writing to the file.");
            e.printStackTrace();
        }
    }
	
	

}
